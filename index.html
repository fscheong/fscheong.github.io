<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<link href="http://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet" type="text/css">

<style>
.square{
    width:100px;
    height:100px;
}

.v{
    border-left:1px solid #000;
    border-right:1px solid #000;
}

.h{
    border-top:1px solid #000;
    border-bottom:1px solid #000;
}

#container{
    text-align:center;
}

#board {
    display: inline-block;
    margin-top:2%;

}
.invisible {
    visibility:hidden;
}
.visible {
    visibility:visible;
}
.header {
  font: 400 30px/1.5 'Pacifico', Helvetica, sans-serif;
  color: #2b2b2b;
  text-shadow: 3px 3px 0px rgba(0,0,0,0.1), 7px 7px 0px rgba(0,0,0,0.05);
}

table {
    background-color: #FAFAFA;
    text-align:center;
      font: 400 30px/1.5 'Pacifico', Helvetica, sans-serif;
}
p {
    margin-left:25%;
    margin-right:25%;
}
</style>

</head>
<body>
	<div id="container">
	    <div class="header">JavaScript and jQuery Tic-Tac-Toe</div>
	    <p>Project motivation: <a target="_blank" href="http://www.theodinproject.com/javascript-and-jquery/tic-tac-toe?ref=lnav">The Odin Project</a></p>
	<p><strong>Description:</strong> This project is done entirely in JavaScript and jQuery.  Yes, it's easy to break; that's not the point.  It's a fully functional 2-player Tic-Tac-Toe game and while it might not be very interesting to play, it was great practice in JS and jQuery.</p>
	    <div id="board">
	        <table>
	          <tr id="row1">
	            <td id=1 class="square"></td>
	            <td id=2 class="square v"></td>
	            <td id=3 class="square"></td>
	          </tr>
	          <tr id="row2">
	            <td id=4 class="square h"></td>
	            <td id=5 class="square v h"></td>
	            <td id=6 class="square h"></td>
	          </tr>
	          <tr id="row3">
	            <td id=7 class="square"></td>
	            <td id=8 class="square v"></td>
	            <td id=9 class="square"></td>
	          </tr>
	        </table>
	      </div>

		<div style="text-align:center;"><button class="invisible" id="newGame">New game!</button></div>
		  
	</div>


</body>

<script>
$(document).ready(function(){
    var turnCount=0;
    
      $('#board').find('td').on('click', function(){
            if (turnCount % 2 === 0){
              $(this).text('X'); 
              checkVictory('X');
            } else {
           //player 2's turn (O)
              $(this).text('O');
              checkVictory('O');
            }
          turnCount++;
          
      });
     
    
    function checkVictory(player){
       //top row check
        if ($('#board').find('#1').text() !== ''){
            if ($('#board').find('#1').text() == $('#board').find('#2').text()) {
                if ($('#board').find('#1').text() == $('#3').text()) {
                    alert('Game over! '+player+' is the winner!');
                    $('#newGame').removeClass('invisible');
                }
            }
        //left column check
            if ($('#board').find('#1').text() == $('#board').find('#4').text()) {
                if ($('#board').find('#1').text() == $('#7').text()) {
                    alert('Game over! '+player+' is the winner!');
                    $('#newGame').removeClass('invisible');
                }
            }
        //left diagonal check
            if ($('#board').find('#1').text() == $('#board').find('#5').text()) {
                if ($('#board').find('#1').text() == $('#9').text()) {
                    alert('Game over! '+player+' is the winner!');
                    $('#newGame').removeClass('invisible');
                }
            }    
        }
        
       //middle column check
        if ($('#board').find('#2').text() !== ''){
            if ($('#board').find('#2').text() == $('#board').find('#5').text()) {
                if ($('#board').find('#2').text() == $('#8').text()) {
                    alert('Game over! '+player+' is the winner!');
                    $('#newGame').removeClass('invisible');
                }
            }
        }
        
        //right column check
        if ($('#board').find('#3').text() !== ''){
            if ($('#board').find('#3').text() == $('#board').find('#6').text()) {
                if ($('#board').find('#3').text() == $('#9').text()) {
                    alert('Game over! '+player+' is the winner!');
                    $('#newGame').removeClass('invisible');
                }
            }
            //right diag check
            if ($('#board').find('#3').text() == $('#board').find('#5').text()) {
                if ($('#board').find('#3').text() == $('#7').text()) {
                    alert('Game over! '+player+' is the winner!');
                    $('#newGame').removeClass('invisible');
                }
            }
        }
        
        //middle row check
        
        if ($('#board').find('#4').text() !== ''){
            if ($('#board').find('#4').text() == $('#board').find('#5').text()) {
                if ($('#board').find('#4').text() == $('#6').text()) {
                    alert('Game over! '+player+' is the winner!');
                    $('#newGame').removeClass('invisible');
                }
            }
        }
        
        //bottom row check
        if ($('#board').find('#7').text() !== ''){
            if ($('#board').find('#7').text() == $('#board').find('#8').text()) {
                if ($('#board').find('#7').text() == $('#9').text()) {
                    alert('Game over! '+player+' is the winner!');
                    $('#newGame').removeClass('invisible');
                }
            }
        }        
  
    }
    $('#newGame').on('click',function(){
        $('.square').text('');
    });

});
</script>

</html>
